use crate::*;
use paste::paste;

macro_rules! auto_test {
    ($int:ident, $bits:literal, $min:literal, $max:literal) => {
        paste! {
            #[test]
            fn [<$int _consts>]() {
                let bits = $bits;
                let min = $min;
                let max = $max;

                assert_eq!($int::BITS, bits);
                assert_eq!($int::MIN.repr(), min);
                assert_eq!($int::MAX.repr(), max);
                assert_eq!($int::MIN, $int!($min));
                assert_eq!($int::MAX, $int!($max));
            }

            #[test]
            fn [<$int _new>]() {
                let min = $min;
                let max = $max;

                assert_eq!($int::new(min), Some($int!($min)));
                assert_eq!($int::new(max), Some($int!($max)));
                assert_eq!($int::new(max + 1), None);
                assert_eq!($int::new(min.wrapping_sub(1)), None);
            }

            #[test]
            fn [<$int _new_wrapping>]() {
                let min = $min;
                let max = $max;

                assert_eq!($int::new_wrapping(min), $int!($min));
                assert_eq!($int::new_wrapping(max), $int!($max));
                assert_eq!($int::new_wrapping(max + 1), $int!($min));
                assert_eq!($int::new_wrapping(min.wrapping_sub(1)), $int!($max));
            }

            #[test]
            fn [<$int _new_saturating>]() {
                let min = $min;
                let max = $max;

                assert_eq!($int::new_saturating(min), $int!($min));
                assert_eq!($int::new_saturating(max), $int!($max));
                assert_eq!($int::new_saturating(max + 1), $int!($max));
                if min != 0 {
                    assert_eq!($int::new_saturating(min - 1), $int!($min));
                }
            }
        }
    };
}

auto_test!(u1, 1, 0, 1);
auto_test!(u2, 2, 0, 3);
auto_test!(u3, 3, 0, 7);
auto_test!(u4, 4, 0, 15);
auto_test!(u5, 5, 0, 31);
auto_test!(u6, 6, 0, 63);
auto_test!(u7, 7, 0, 127);
auto_test!(u9, 9, 0, 511);
auto_test!(u10, 10, 0, 1023);
auto_test!(u11, 11, 0, 2047);
auto_test!(u12, 12, 0, 4095);
auto_test!(u13, 13, 0, 8191);
auto_test!(u14, 14, 0, 16383);
auto_test!(u15, 15, 0, 32767);
auto_test!(u17, 17, 0, 131071);
auto_test!(u18, 18, 0, 262143);
auto_test!(u19, 19, 0, 524287);
auto_test!(u20, 20, 0, 1048575);
auto_test!(u21, 21, 0, 2097151);
auto_test!(u22, 22, 0, 4194303);
auto_test!(u23, 23, 0, 8388607);
auto_test!(u24, 24, 0, 16777215);
auto_test!(u25, 25, 0, 33554431);
auto_test!(u26, 26, 0, 67108863);
auto_test!(u27, 27, 0, 134217727);
auto_test!(u28, 28, 0, 268435455);
auto_test!(u29, 29, 0, 536870911);
auto_test!(u30, 30, 0, 1073741823);
auto_test!(u31, 31, 0, 2147483647);
auto_test!(u33, 33, 0, 8589934591);
auto_test!(u34, 34, 0, 17179869183);
auto_test!(u35, 35, 0, 34359738367);
auto_test!(u36, 36, 0, 68719476735);
auto_test!(u37, 37, 0, 137438953471);
auto_test!(u38, 38, 0, 274877906943);
auto_test!(u39, 39, 0, 549755813887);
auto_test!(u40, 40, 0, 1099511627775);
auto_test!(u41, 41, 0, 2199023255551);
auto_test!(u42, 42, 0, 4398046511103);
auto_test!(u43, 43, 0, 8796093022207);
auto_test!(u44, 44, 0, 17592186044415);
auto_test!(u45, 45, 0, 35184372088831);
auto_test!(u46, 46, 0, 70368744177663);
auto_test!(u47, 47, 0, 140737488355327);
auto_test!(u48, 48, 0, 281474976710655);
auto_test!(u49, 49, 0, 562949953421311);
auto_test!(u50, 50, 0, 1125899906842623);
auto_test!(u51, 51, 0, 2251799813685247);
auto_test!(u52, 52, 0, 4503599627370495);
auto_test!(u53, 53, 0, 9007199254740991);
auto_test!(u54, 54, 0, 18014398509481983);
auto_test!(u55, 55, 0, 36028797018963967);
auto_test!(u56, 56, 0, 72057594037927935);
auto_test!(u57, 57, 0, 144115188075855871);
auto_test!(u58, 58, 0, 288230376151711743);
auto_test!(u59, 59, 0, 576460752303423487);
auto_test!(u60, 60, 0, 1152921504606846975);
auto_test!(u61, 61, 0, 2305843009213693951);
auto_test!(u62, 62, 0, 4611686018427387903);
auto_test!(u63, 63, 0, 9223372036854775807);
auto_test!(u65, 65, 0, 36893488147419103231);
auto_test!(u66, 66, 0, 73786976294838206463);
auto_test!(u67, 67, 0, 147573952589676412927);
auto_test!(u68, 68, 0, 295147905179352825855);
auto_test!(u69, 69, 0, 590295810358705651711);
auto_test!(u70, 70, 0, 1180591620717411303423);
auto_test!(u71, 71, 0, 2361183241434822606847);
auto_test!(u72, 72, 0, 4722366482869645213695);
auto_test!(u73, 73, 0, 9444732965739290427391);
auto_test!(u74, 74, 0, 18889465931478580854783);
auto_test!(u75, 75, 0, 37778931862957161709567);
auto_test!(u76, 76, 0, 75557863725914323419135);
auto_test!(u77, 77, 0, 151115727451828646838271);
auto_test!(u78, 78, 0, 302231454903657293676543);
auto_test!(u79, 79, 0, 604462909807314587353087);
auto_test!(u80, 80, 0, 1208925819614629174706175);
auto_test!(u81, 81, 0, 2417851639229258349412351);
auto_test!(u82, 82, 0, 4835703278458516698824703);
auto_test!(u83, 83, 0, 9671406556917033397649407);
auto_test!(u84, 84, 0, 19342813113834066795298815);
auto_test!(u85, 85, 0, 38685626227668133590597631);
auto_test!(u86, 86, 0, 77371252455336267181195263);
auto_test!(u87, 87, 0, 154742504910672534362390527);
auto_test!(u88, 88, 0, 309485009821345068724781055);
auto_test!(u89, 89, 0, 618970019642690137449562111);
auto_test!(u90, 90, 0, 1237940039285380274899124223);
auto_test!(u91, 91, 0, 2475880078570760549798248447);
auto_test!(u92, 92, 0, 4951760157141521099596496895);
auto_test!(u93, 93, 0, 9903520314283042199192993791);
auto_test!(u94, 94, 0, 19807040628566084398385987583);
auto_test!(u95, 95, 0, 39614081257132168796771975167);
auto_test!(u96, 96, 0, 79228162514264337593543950335);
auto_test!(u97, 97, 0, 158456325028528675187087900671);
auto_test!(u98, 98, 0, 316912650057057350374175801343);
auto_test!(u99, 99, 0, 633825300114114700748351602687);
auto_test!(u100, 100, 0, 1267650600228229401496703205375);
auto_test!(u101, 101, 0, 2535301200456458802993406410751);
auto_test!(u102, 102, 0, 5070602400912917605986812821503);
auto_test!(u103, 103, 0, 10141204801825835211973625643007);
auto_test!(u104, 104, 0, 20282409603651670423947251286015);
auto_test!(u105, 105, 0, 40564819207303340847894502572031);
auto_test!(u106, 106, 0, 81129638414606681695789005144063);
auto_test!(u107, 107, 0, 162259276829213363391578010288127);
auto_test!(u108, 108, 0, 324518553658426726783156020576255);
auto_test!(u109, 109, 0, 649037107316853453566312041152511);
auto_test!(u110, 110, 0, 1298074214633706907132624082305023);
auto_test!(u111, 111, 0, 2596148429267413814265248164610047);
auto_test!(u112, 112, 0, 5192296858534827628530496329220095);
auto_test!(u113, 113, 0, 10384593717069655257060992658440191);
auto_test!(u114, 114, 0, 20769187434139310514121985316880383);
auto_test!(u115, 115, 0, 41538374868278621028243970633760767);
auto_test!(u116, 116, 0, 83076749736557242056487941267521535);
auto_test!(u117, 117, 0, 166153499473114484112975882535043071);
auto_test!(u118, 118, 0, 332306998946228968225951765070086143);
auto_test!(u119, 119, 0, 664613997892457936451903530140172287);
auto_test!(u120, 120, 0, 1329227995784915872903807060280344575);
auto_test!(u121, 121, 0, 2658455991569831745807614120560689151);
auto_test!(u122, 122, 0, 5316911983139663491615228241121378303);
auto_test!(u123, 123, 0, 10633823966279326983230456482242756607);
auto_test!(u124, 124, 0, 21267647932558653966460912964485513215);
auto_test!(u125, 125, 0, 42535295865117307932921825928971026431);
auto_test!(u126, 126, 0, 85070591730234615865843651857942052863);
auto_test!(u127, 127, 0, 170141183460469231731687303715884105727);
auto_test!(i1, 1, -1, 0);
auto_test!(i2, 2, -2, 1);
auto_test!(i3, 3, -4, 3);
auto_test!(i4, 4, -8, 7);
auto_test!(i5, 5, -16, 15);
auto_test!(i6, 6, -32, 31);
auto_test!(i7, 7, -64, 63);
auto_test!(i9, 9, -256, 255);
auto_test!(i10, 10, -512, 511);
auto_test!(i11, 11, -1024, 1023);
auto_test!(i12, 12, -2048, 2047);
auto_test!(i13, 13, -4096, 4095);
auto_test!(i14, 14, -8192, 8191);
auto_test!(i15, 15, -16384, 16383);
auto_test!(i17, 17, -65536, 65535);
auto_test!(i18, 18, -131072, 131071);
auto_test!(i19, 19, -262144, 262143);
auto_test!(i20, 20, -524288, 524287);
auto_test!(i21, 21, -1048576, 1048575);
auto_test!(i22, 22, -2097152, 2097151);
auto_test!(i23, 23, -4194304, 4194303);
auto_test!(i24, 24, -8388608, 8388607);
auto_test!(i25, 25, -16777216, 16777215);
auto_test!(i26, 26, -33554432, 33554431);
auto_test!(i27, 27, -67108864, 67108863);
auto_test!(i28, 28, -134217728, 134217727);
auto_test!(i29, 29, -268435456, 268435455);
auto_test!(i30, 30, -536870912, 536870911);
auto_test!(i31, 31, -1073741824, 1073741823);
auto_test!(i33, 33, -4294967296, 4294967295);
auto_test!(i34, 34, -8589934592, 8589934591);
auto_test!(i35, 35, -17179869184, 17179869183);
auto_test!(i36, 36, -34359738368, 34359738367);
auto_test!(i37, 37, -68719476736, 68719476735);
auto_test!(i38, 38, -137438953472, 137438953471);
auto_test!(i39, 39, -274877906944, 274877906943);
auto_test!(i40, 40, -549755813888, 549755813887);
auto_test!(i41, 41, -1099511627776, 1099511627775);
auto_test!(i42, 42, -2199023255552, 2199023255551);
auto_test!(i43, 43, -4398046511104, 4398046511103);
auto_test!(i44, 44, -8796093022208, 8796093022207);
auto_test!(i45, 45, -17592186044416, 17592186044415);
auto_test!(i46, 46, -35184372088832, 35184372088831);
auto_test!(i47, 47, -70368744177664, 70368744177663);
auto_test!(i48, 48, -140737488355328, 140737488355327);
auto_test!(i49, 49, -281474976710656, 281474976710655);
auto_test!(i50, 50, -562949953421312, 562949953421311);
auto_test!(i51, 51, -1125899906842624, 1125899906842623);
auto_test!(i52, 52, -2251799813685248, 2251799813685247);
auto_test!(i53, 53, -4503599627370496, 4503599627370495);
auto_test!(i54, 54, -9007199254740992, 9007199254740991);
auto_test!(i55, 55, -18014398509481984, 18014398509481983);
auto_test!(i56, 56, -36028797018963968, 36028797018963967);
auto_test!(i57, 57, -72057594037927936, 72057594037927935);
auto_test!(i58, 58, -144115188075855872, 144115188075855871);
auto_test!(i59, 59, -288230376151711744, 288230376151711743);
auto_test!(i60, 60, -576460752303423488, 576460752303423487);
auto_test!(i61, 61, -1152921504606846976, 1152921504606846975);
auto_test!(i62, 62, -2305843009213693952, 2305843009213693951);
auto_test!(i63, 63, -4611686018427387904, 4611686018427387903);
auto_test!(i65, 65, -18446744073709551616, 18446744073709551615);
auto_test!(i66, 66, -36893488147419103232, 36893488147419103231);
auto_test!(i67, 67, -73786976294838206464, 73786976294838206463);
auto_test!(i68, 68, -147573952589676412928, 147573952589676412927);
auto_test!(i69, 69, -295147905179352825856, 295147905179352825855);
auto_test!(i70, 70, -590295810358705651712, 590295810358705651711);
auto_test!(i71, 71, -1180591620717411303424, 1180591620717411303423);
auto_test!(i72, 72, -2361183241434822606848, 2361183241434822606847);
auto_test!(i73, 73, -4722366482869645213696, 4722366482869645213695);
auto_test!(i74, 74, -9444732965739290427392, 9444732965739290427391);
auto_test!(i75, 75, -18889465931478580854784, 18889465931478580854783);
auto_test!(i76, 76, -37778931862957161709568, 37778931862957161709567);
auto_test!(i77, 77, -75557863725914323419136, 75557863725914323419135);
auto_test!(i78, 78, -151115727451828646838272, 151115727451828646838271);
auto_test!(i79, 79, -302231454903657293676544, 302231454903657293676543);
auto_test!(i80, 80, -604462909807314587353088, 604462909807314587353087);
auto_test!(
    i81,
    81,
    -1208925819614629174706176,
    1208925819614629174706175
);
auto_test!(
    i82,
    82,
    -2417851639229258349412352,
    2417851639229258349412351
);
auto_test!(
    i83,
    83,
    -4835703278458516698824704,
    4835703278458516698824703
);
auto_test!(
    i84,
    84,
    -9671406556917033397649408,
    9671406556917033397649407
);
auto_test!(
    i85,
    85,
    -19342813113834066795298816,
    19342813113834066795298815
);
auto_test!(
    i86,
    86,
    -38685626227668133590597632,
    38685626227668133590597631
);
auto_test!(
    i87,
    87,
    -77371252455336267181195264,
    77371252455336267181195263
);
auto_test!(
    i88,
    88,
    -154742504910672534362390528,
    154742504910672534362390527
);
auto_test!(
    i89,
    89,
    -309485009821345068724781056,
    309485009821345068724781055
);
auto_test!(
    i90,
    90,
    -618970019642690137449562112,
    618970019642690137449562111
);
auto_test!(
    i91,
    91,
    -1237940039285380274899124224,
    1237940039285380274899124223
);
auto_test!(
    i92,
    92,
    -2475880078570760549798248448,
    2475880078570760549798248447
);
auto_test!(
    i93,
    93,
    -4951760157141521099596496896,
    4951760157141521099596496895
);
auto_test!(
    i94,
    94,
    -9903520314283042199192993792,
    9903520314283042199192993791
);
auto_test!(
    i95,
    95,
    -19807040628566084398385987584,
    19807040628566084398385987583
);
auto_test!(
    i96,
    96,
    -39614081257132168796771975168,
    39614081257132168796771975167
);
auto_test!(
    i97,
    97,
    -79228162514264337593543950336,
    79228162514264337593543950335
);
auto_test!(
    i98,
    98,
    -158456325028528675187087900672,
    158456325028528675187087900671
);
auto_test!(
    i99,
    99,
    -316912650057057350374175801344,
    316912650057057350374175801343
);
auto_test!(
    i100,
    100,
    -633825300114114700748351602688,
    633825300114114700748351602687
);
auto_test!(
    i101,
    101,
    -1267650600228229401496703205376,
    1267650600228229401496703205375
);
auto_test!(
    i102,
    102,
    -2535301200456458802993406410752,
    2535301200456458802993406410751
);
auto_test!(
    i103,
    103,
    -5070602400912917605986812821504,
    5070602400912917605986812821503
);
auto_test!(
    i104,
    104,
    -10141204801825835211973625643008,
    10141204801825835211973625643007
);
auto_test!(
    i105,
    105,
    -20282409603651670423947251286016,
    20282409603651670423947251286015
);
auto_test!(
    i106,
    106,
    -40564819207303340847894502572032,
    40564819207303340847894502572031
);
auto_test!(
    i107,
    107,
    -81129638414606681695789005144064,
    81129638414606681695789005144063
);
auto_test!(
    i108,
    108,
    -162259276829213363391578010288128,
    162259276829213363391578010288127
);
auto_test!(
    i109,
    109,
    -324518553658426726783156020576256,
    324518553658426726783156020576255
);
auto_test!(
    i110,
    110,
    -649037107316853453566312041152512,
    649037107316853453566312041152511
);
auto_test!(
    i111,
    111,
    -1298074214633706907132624082305024,
    1298074214633706907132624082305023
);
auto_test!(
    i112,
    112,
    -2596148429267413814265248164610048,
    2596148429267413814265248164610047
);
auto_test!(
    i113,
    113,
    -5192296858534827628530496329220096,
    5192296858534827628530496329220095
);
auto_test!(
    i114,
    114,
    -10384593717069655257060992658440192,
    10384593717069655257060992658440191
);
auto_test!(
    i115,
    115,
    -20769187434139310514121985316880384,
    20769187434139310514121985316880383
);
auto_test!(
    i116,
    116,
    -41538374868278621028243970633760768,
    41538374868278621028243970633760767
);
auto_test!(
    i117,
    117,
    -83076749736557242056487941267521536,
    83076749736557242056487941267521535
);
auto_test!(
    i118,
    118,
    -166153499473114484112975882535043072,
    166153499473114484112975882535043071
);
auto_test!(
    i119,
    119,
    -332306998946228968225951765070086144,
    332306998946228968225951765070086143
);
auto_test!(
    i120,
    120,
    -664613997892457936451903530140172288,
    664613997892457936451903530140172287
);
auto_test!(
    i121,
    121,
    -1329227995784915872903807060280344576,
    1329227995784915872903807060280344575
);
auto_test!(
    i122,
    122,
    -2658455991569831745807614120560689152,
    2658455991569831745807614120560689151
);
auto_test!(
    i123,
    123,
    -5316911983139663491615228241121378304,
    5316911983139663491615228241121378303
);
auto_test!(
    i124,
    124,
    -10633823966279326983230456482242756608,
    10633823966279326983230456482242756607
);
auto_test!(
    i125,
    125,
    -21267647932558653966460912964485513216,
    21267647932558653966460912964485513215
);
auto_test!(
    i126,
    126,
    -42535295865117307932921825928971026432,
    42535295865117307932921825928971026431
);
auto_test!(
    i127,
    127,
    -85070591730234615865843651857942052864,
    85070591730234615865843651857942052863
);
